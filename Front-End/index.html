<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Panel</title>
    <link rel="stylesheet" href="public/styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap" rel="stylesheet">
<link rel="icon" href="public/images/cloud-icon-white.png" type="image/x-icon"/>
</head>
<body>
    <header>
        <article class="logo">
            <h1>Admin Panel</h1>
        </article>
        <ul class="nav-links">
            <li><a href="#">Home</a></li>
            <li><a href="#">About Us</a></li>
        </ul>
    </header>
    <main>
        <article class="table-container">
            <section class="table-title">
                <h2>Registered ESPs</h2>
                <ul class="features">
                    <li><button class="new-feature" id="openPopup">Light LED</button></li>
                    <li><button class="new-feature">Manage ESPs</button></li>
                </ul>
            </section>

            <div class="popup" id="popup">
                <div class="popup-inner">
                    <div class="title">
                        <h2>Light LED</h2>
                        <button class="close" id="closePopup">&times;</button>
                    </div>
                    <div class="body">
                        <p>Toggle LED</p>
                        <label class="switch" id="toggleLed">
                            <input type="checkbox">
                            <span class="slider round"></span>
                        </label>
                    </div>
                    <!-- <div class="buttons">
                        <button id="closePopup">CANCEL</button>
                        <button>APPLY</button>
                    </div> -->
                </div>
            </div>

            <table>
                <thead>
                    <tr>
                        <th>Name</th>
                        <th>Mode</th>
                        <th>Fan</th>
                        <th>Temperature</th>
                        <th>Status</th>
                    </tr>
                </thead>
                <tbody>
                <!--items-->
                <tr>
                    <td class="esp-profile">
                        <img src="public/images/esp-list-logo.png">
                        <p>ESP-32</p>
                    </td>
                    <td>Cold</td>
                    <td>2</td>
                    <td>22°C</td>
                    <td class="active">Active</td>
                </tr>
                <tr>
                    <td class="esp-profile">
                        <img src="public/images/esp-list-logo.png">
                        <p>ESP-32</p>
                    </td>
                    <td>Cold</td>
                    <td>2</td>
                    <td>22°C</td>
                    <td class="inactive">Inactive</td>
                </tr>
                <tr>
                    <td class="esp-profile">
                        <img src="public/images/esp-list-logo.png">
                        <p>ESP-32</p>
                    </td>
                    <td>Cold</td>
                    <td>2</td>
                    <td>22°C</td>
                    <td class="inactive">Inactive</td>
                </tr>
                <tr>
                    <td class="esp-profile">
                        <img src="public/images/esp-list-logo.png">
                        <p>ESP-8266</p>
                    </td>
                    <td>Cold</td>
                    <td>2</td>
                    <td>22°C</td>
                    <td class="inactive">Inactive</td>
                </tr>
                <tr>
                    <td class="esp-profile">
                        <img src="public/images/esp-list-logo.png">
                        <p>ESP-8266</p>
                    </td>
                    <td>Cold</td>
                    <td>2</td>
                    <td>22°C</td>
                    <td class="inactive">Inactive</td>
                </tr>
                <tr>
                    <td class="esp-profile">
                        <img src="public/images/esp-list-logo.png">
                        <p>ESP-8266</p>
                    </td>
                    <td>Cold</td>
                    <td>2</td>
                    <td>22°C</td>
                    <td class="inactive">Inactive</td>
                </tr>
                <tr>
                    <td class="esp-profile">
                        <img src="public/images/esp-list-logo.png">
                        <p>ESP-8266</p>
                    </td>
                    <td>Cold</td>
                    <td>2</td>
                    <td>22°C</td>
                    <td class="inactive">Inactive</td>
                </tr>
                <tr>
                    <td class="esp-profile">
                        <img src="public/images/esp-list-logo.png">
                        <p>ESP-8266</p>
                    </td>
                    <td>Cold</td>
                    <td>2</td>
                    <td>22°C</td>
                    <td class="inactive">Inactive</td>
                </tr>
                <tr>
                    <td class="esp-profile">
                        <img src="public/images/esp-list-logo.png">
                        <p>ESP-8266</p>
                    </td>
                    <td>Cold</td>
                    <td>2</td>
                    <td>22°C</td>
                    <td class="inactive">Inactive</td>
                </tr>
                <tr>
                    <td class="esp-profile">
                        <img src="public/images/esp-list-logo.png">
                        <p>ESP-8266</p>
                    </td>
                    <td>Cold</td>
                    <td>2</td>
                    <td>22°C</td>
                    <td class="inactive">Inactive</td>
                </tr>
                <!--/items-->
                </tbody>
            </table>
        </article>
    </main>
    <footer>
        <article class="footer">
            <section class="contact">
                <div class="logo">
                    <img src="public/images/cloud-icon.png" alt="cloud-icon">
                    <h3>ESP Cloud Remote</h3>
                </div>
                <ul>
                    <li><p class="list-head">Need help?</p></li>
                    <li><a href="#">Contact us via email at support@example.com</a></li>
                </ul>
            </section>
            <section class="links">
                <ul>
                    <li><p class="list-head">Company</p></li>
                    <li><a href="#">Terms & Conditions</a></li>
                    <li><a href="#">Privacy Policy</a></li>
                </ul>
                <ul>
                    <li><p class="list-head">Download</p></li>
                    <li><a href="#">Microsoft Store</a></li>
                    <li><a href="#">Google Play</a></li>
                    <li><a href="#">Apple Store</a></li>
                </ul>
                <ul>
                    <li><p class="list-head"><a href="https://github.com/DimitarSamarov07/esp-cloud-remote" target="_blank">View us on GitHub</a></p></li>
                </ul>
            </section>
        </article>
        <article class="copyright">
            <hr>
            <p>ESP Cloud Remote @ 2024</p>
        </article>
    </footer>
</body>
<script>
    //popup
    const openButton = document.getElementById("openPopup");
    const closeButton = document.getElementById("closePopup");
    const popup = document.getElementById("popup");

    openButton.addEventListener("click", () => {
        popup.classList.add("open");
    });

    closeButton.addEventListener("click", () => {
        popup.classList.remove("open");
    });

    //toggle ESP
    const toggle = document.getElementById("toggleLed");
    let isToggled = false;
    const params = new URLSearchParams();
    toggle.addEventListener("change", () => {
        isToggled = isToggled ? false : true;
        let state = isToggled ? 'ON' : 'OFF';
        params.set('led_state', state);
        const queryString = params.toString();
        const url = `93.154.224.232:8690/led?${queryString}`;
        console.log(url);
    });
</script>
</html>